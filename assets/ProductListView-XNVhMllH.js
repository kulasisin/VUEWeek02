import{_ as p,d as u,c as o,a as t,F as a,r as _,e as n,t as e,o as c}from"./index-pUxV4wJZ.js";var m={VITE_URL:"https://ec-course-api.hexschool.io/",VITE_PATH:"pinyi9",BASE_URL:"/VUEWeek02/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:h,VITE_PATH:g}=m,P={data(){return{products:[],tempProduct:{}}},methods:{checkAdmin(){const i=document.cookie.replace(/(?:(?:^|.*;\s*)leleToken\s*=\s*([^;]*).*$)|^.*$/,"$1");u.defaults.headers.common.Authorization=i,this.axios.post(`${h}V2/api/user/check`).then(r=>{this.getProducts()}).catch(r=>{alert(r.response.data.message),this.$router.push({name:"LoginView"})})},getProducts(){this.axios.get(`${h}V2/api/${g}/admin/products`).then(i=>{this.products=i.data.products}).catch(i=>{alert(i.response.data.message)})},openProduct(i){this.tempProduct=i}},mounted(){this.checkAdmin()}},y={id:"app"},k={class:"container"},x={class:"row py-3"},b={class:"col-md-6"},w=t("h1",null,"產品列表",-1),f={class:"table table-hover mt-4"},v=t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"}," 原價 "),t("th",{width:"120"}," 售價 "),t("th",{width:"150"}," 是否啟用 "),t("th",{width:"120"}," 查看細節 ")])],-1),V={width:"150"},E={width:"120"},T={width:"120"},A={width:"150"},L={key:0,class:"text-success"},U={key:1},R={width:"120"},B=["onClick"],D={class:"col-md-6"},I=t("h2",null,"單一產品細節",-1),S={class:"card mb-3"},C=["src"],F={class:"card-body"},H={class:"card-title"},N={class:"badge bg-primary ms-2"},O={class:"card-text"},z={class:"card-text"},M={class:"d-flex"},W={class:"card-text me-2"},j={class:"card-text text-secondary"},q=["src"],G={key:1,class:"text-secondary"};function J(i,r,K,Q,s,X){return c(),o("main",null,[t("div",y,[t("div",k,[t("div",x,[t("div",b,[w,t("table",f,[v,t("tbody",null,[(c(!0),o(a,null,_(s.products,d=>(c(),o("tr",{key:d.id},[t("td",V,e(d.title),1),t("td",E,e(d.origin_price),1),t("td",T,e(d.price),1),t("td",A,[d.is_enabled?(c(),o("span",L,"啟用")):(c(),o("span",U,"未啟用"))]),t("td",R,[t("button",{onClick:l=>s.tempProduct=d,type:"button",class:"btn btn-primary"},"查看細節",8,B)])]))),128))])]),t("p",null,[n("目前有 "),t("span",null,e(s.products.length),1),n(" 項產品")])]),t("div",D,[I,s.tempProduct.title?(c(),o(a,{key:0},[t("div",S,[t("img",{src:s.tempProduct.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,C),t("div",F,[t("h5",H,[n(e(s.tempProduct.title)+" ",1),t("span",N,e(s.tempProduct.category),1)]),t("p",O,"商品描述："+e(s.tempProduct.description),1),t("p",z,"商品內容："+e(s.tempProduct.content),1),t("div",M,[t("p",W,e(s.tempProduct.price),1),t("p",j,[t("del",null,e(s.tempProduct.origin_price),1)]),n(" 元 / "+e(s.tempProduct.unit),1)])])]),t("template",null,[(c(!0),o(a,null,_(s.tempProduct.imagesUrl,(d,l)=>(c(),o("span",{key:l},[t("img",{src:d,alt:"`${tempProduct.category}照片`",class:"images m-2"},null,8,q)]))),128))])],64)):(c(),o("p",G,"請選擇一個商品查看"))])])])])])}const Z=p(P,[["render",J]]);export{Z as default};
